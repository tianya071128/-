<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>hello world</title>
    <script
      crossorigin
      src="https://unpkg.com/react@16/umd/react.development.js"
    ></script>
    <script
      crossorigin
      src="https://unpkg.com/react-dom@16/umd/react-dom.development.js"
    ></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  </head>

  <body>
    <!-- 容器, 与 vue 概念类似 -->
    <div id="root"></div>
  </body>
</html>

<script type="text/babel">
  // 1. 创建类组件 - 需要继承 React.Component 类
  class MyComponent extends React.Component {
    state = {
      list: [
        { id: 1, name: '小王', value: '' },
        { id: 2, name: '小王2', value: '' },
      ],
    };
    // 最终返回描述组件内容的元素
    render() {
      return (
        <div>
          <button
            onClick={() => {
              this.setState({
                list: [{ id: 3, name: '小王3', value: '' }, ...this.state.list],
              });
            }}
          >
            点击添加数据
          </button>
          <ul>
            {this.state.list.map((item, index) => (
              <li key={index}>
                {item.name}
                <input
                  type="text"
                  value={item.value}
                  onChange={(e) =>
                    this.setState({
                      list: this.state.list.map((item, index2) => {
                        if (index2 === index) {
                          item.value = e.target.value;
                        }
                        return item;
                      }),
                    })
                  }
                />
              </li>
            ))}
          </ul>
        </div>
      );
    }
  }
  // 2. 渲染组件到页面
  ReactDOM.render(<MyComponent />, document.getElementById('root'));
</script>
